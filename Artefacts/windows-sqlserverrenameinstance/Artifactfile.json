{
  "$schema": "https://raw.githubusercontent.com/Azure/azure-devtestlab/master/schemas/2015-01-01/dtlArtifacts.json",
  "title": "Rename SQL Server Instance",
  "description": "Rename SQL Server Default instance on the Windows target machine",
  "publisher": "AG2L Developpement",
  "iconUri": "https://github.com/NicolasKersuzan/Artefact/tree/master/Artefacts/windows-sqlserverrenameinstance/AG2L-Logo.png",
  "targetOsType":"Windows",
  "parameters": {
    "OldServerName": {
      "type": "string",
      "displayName": "Current Instance Name",
      "description": "Instance name of the current "
    },
    "NewSQLSeverName": {
      "type": "string",
      "displayName": "New Instance Name",
      "description": "Instance name of the current "
    }
  },
  "runCommand": {
     "commandToExecute": "[concat('powershell.exe -ExecutionPolicy bypass -File RenameSQLServerInstance.ps1', ' -OldServerName ', parameters('OldServerName'), ' -NewSQLSeverName ', parameters('NewSQLSeverName'))]"
  }
}